<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Cài đặt - Finance Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
  <link href="dark-mode.css" rel="stylesheet">
  <link href="animations.css" rel="stylesheet">
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar d-flex flex-column">
      <h2>💰 Finance</h2>
      <nav class="flex-grow-1">
        <a href="index.html" class="tab-link" data-translate="overview-link">📊 Tổng quan</a>
        <a href="#" class="tab-link active" data-tab="avatar" data-translate="change-avatar">🖼️ Avatar</a>
        <a href="#" class="tab-link" data-tab="general" data-translate="general-settings">⚙️ Cài đặt</a>
        <a href="#" class="tab-link" data-tab="password" data-translate="change-password">🔒 Mật khẩu</a>
        <a href="#" class="tab-link" data-tab="contact" data-translate="contact">📞 Liên hệ</a>
      </nav>
      <a href="#" id="logout" data-translate="logout-link">🚪 Đăng xuất</a>
    </aside>

    <!-- Main content -->
    <main class="content">
      <h1 data-translate="settings">⚙️ Cài đặt hệ thống</h1>

      <!-- Avatar -->
      <section id="avatar" class="tab-content active">
        <h2 data-translate="change-avatar">Thay đổi Avatar</h2>
        <div class="text-center mb-4">
          <div class="avatar-preview">
            <img src="images/tải xuống.jfif" alt="Avatar" id="avatar-preview" class="rounded-circle">
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label" data-translate="choose-image">Chọn ảnh từ máy</label>
          <div class="custom-file-input">
            <input type="file" id="avatar-file" accept="image/*" style="display: none;">
            <button type="button" class="btn btn-outline-secondary" id="file-button" data-translate="choose-file">Chọn tệp</button>
            <span id="file-name" class="ms-2 text-muted" data-translate="no-file-selected">Chưa chọn tệp nào</span>
          </div>
        </div>
        <button type="button" class="btn btn-primary" id="update-avatar" data-translate="update-avatar">Cập nhật Avatar</button>
        <div class="mt-3">
          <small class="text-muted" data-translate="support-info">Hỗ trợ: JPG, PNG, GIF. Kích thước tối đa 2MB</small>
        </div>
      </section>

      <!-- Cài đặt chung -->
      <section id="general" class="tab-content">
        <h2 data-translate="general-settings">Cài đặt chung</h2>
        <div class="mb-3">
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="darkMode">
            <label class="form-check-label" for="darkMode" data-translate="dark-mode">Chế độ tối</label>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label" data-translate="language">Ngôn ngữ</label>
          <select class="form-select" id="language">
            <option value="vi">Tiếng Việt</option>
            <option value="en">English</option>
          </select>
        </div>
      </section>

      <!-- Thay đổi mật khẩu -->
      <section id="password" class="tab-content">
        <h2 data-translate="change-password">Thay đổi mật khẩu</h2>
        <form id="change-password-form">
          <div class="mb-3">
            <input type="password" class="form-control" id="current-password" placeholder="Mật khẩu hiện tại" data-translate-placeholder="current-password" autocomplete="current-password" required>
          </div>
          <div class="mb-3">
            <input type="password" class="form-control" id="new-password" placeholder="Mật khẩu mới" data-translate-placeholder="new-password" autocomplete="new-password" required>
          </div>
          <div class="mb-3">
            <input type="password" class="form-control" id="confirm-password" placeholder="Xác nhận mật khẩu mới" data-translate-placeholder="confirm-password" autocomplete="new-password" required>
          </div>
          <button type="submit" class="btn btn-primary" data-translate="change-password-btn">Đổi mật khẩu</button>
        </form>
        <p id="password-error" class="text-danger mt-2"></p>
        <hr class="my-4">
        <div class="text-center">
          <button class="btn btn-outline-warning mb-3" id="reset-data">🔄 Reset dữ liệu</button>
          <small class="d-block mb-3 text-muted">Xóa tất cả dữ liệu nhưng giữ lại tài khoản</small>
          <button class="btn btn-outline-danger" id="delete-account" data-translate="delete-account">Xóa tài khoản</button>
          <small class="d-block mt-2 text-muted" data-translate="cannot-undo">Hành động này không thể hoàn tác</small>
        </div>
      </section>

      <!-- Liên hệ & Báo lỗi -->
      <section id="contact" class="tab-content">
        <h2 data-translate="contact">Liên hệ & Báo lỗi</h2>
        <form id="contact-form">
          <div class="mb-3">
            <select class="form-select" id="issue-type" required>
              <option value="" data-translate="select-issue">Chọn loại vấn đề</option>
              <option value="bug" data-translate="bug-report">Báo lỗi</option>
              <option value="feature" data-translate="feature-request">Đề xuất tính năng</option>
              <option value="support" data-translate="support">Hỗ trợ</option>
              <option value="other" data-translate="other-issue">Khác</option>
            </select>
          </div>
          <div class="mb-3">
            <input type="email" class="form-control" id="contact-email" placeholder="Email của bạn" data-translate-placeholder="your-email" autocomplete="off" required>
          </div>
          <div class="mb-3">
            <textarea class="form-control" id="message" rows="4" placeholder="Mô tả chi tiết..." data-translate-placeholder="detailed-description" autocomplete="off" required></textarea>
          </div>
          <button type="submit" class="btn btn-success" data-translate="send">Gửi</button>
        </form>
        <p id="contact-error" class="text-danger mt-2"></p>
      </section>


    </main>
  </div>

  <script src="js/settings.js"></script>
  <script src="js/tab-fix.js"></script>
  <script src="js/avatar-fix.js"></script>
  <script src="js/dark-mode.js"></script>
  <script src="js/language.js"></script>
  <script src="js/password-fix.js"></script>
</body>
</html>